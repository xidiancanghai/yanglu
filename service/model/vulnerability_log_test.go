package model

import (
	"fmt"
	"testing"
	"yanglu/config"
	"yanglu/service/data"
	"yanglu/service/logger"
)

func TestGetLastLog(t *testing.T) {
	config.InitEnvConf("../../config/env.toml")

	// init log
	logger.InitLogger("", nil)

	// init db
	data.InitMysql()

	vl := NewVulnerabilityLog()
	id, _ := vl.GetMaxTaskItemId("112.125.25.235")
	list, _ := vl.GetLastLog("112.125.25.235", id)
	for _, v := range list {
		fmt.Println("v = ", *v)
	}

}
