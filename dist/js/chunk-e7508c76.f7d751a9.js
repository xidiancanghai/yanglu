(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7508c76"],{"3baa":function(t,e,s){"use strict";s("6b49")},"40a9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAbCAYAAACN1PRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkYzNUNCRUZDRjZFMTFFQkEzNUY4RTY3ODM3MjMzRjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkYzNUNCRjBDRjZFMTFFQkEzNUY4RTY3ODM3MjMzRjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGRjM1Q0JFRENGNkUxMUVCQTM1RjhFNjc4MzcyMzNGNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGRjM1Q0JFRUNGNkUxMUVCQTM1RjhFNjc4MzcyMzNGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Prm73+gAAAKoSURBVHjatNZfaM1hHMfxc2w21owdlG1GyJ/UbFmRhV3sQnJBODNxIxTl7w1X5EKGUggl1K6I5IZC86+FkMwNQk2xEJv9Yf5stuP9rc+pp1/n9zu/Yd967bff83t+z/c5z3nO8zzRRCIRSRPDEUclyjEeOejAezzBTVxSmX9YMh8FOIbviXDRhb0Y4demX6KV6HAauo/tqEChGizW/U7cc+p+RnXYZAecF+sxM+DTu2bhtvNuLaJByfarYg+2eCuHYPU3o9tJmDJZtSr8wpJ+JvFapHYsVnmTjUSLHm71aSAb2/AIzXiITcjwqb9O7bVhjJvskB7c8nkxBw2q04rHaNf9lYCE11TnhJtsn2ZRic9LyUlj1yyVDVUjFus99edhOUrRhx+Ihf0OPuFZigljn+gV7njKH6gTu3A32aEwiXJV+azP83No8pTN1488oWcW5zMj6WOqrsVatrwxFsNQqOXLogELcRUTVFZivajRVE3V63LnN5MubDbHAj5huxX8RC/WpEi2URXXYmKAg6o3N0UbyYStNow9yMYpW5dRl2KoPqIpYKi/BDyzIS2zHJbsLaYjA6dVoS7yf+O1/RmEpyp4o6slXBYZgLBkN/R/FlZrKCsGIlmmdtjjKEI3CtCm5726lmmYs3U/GLlOO5W69nnaz9Cu/tXdqY9qNr1wliMzSQtpmHiHPM9MPKPZPtnuozqDjMZL5OMkNji9i2GGRsEvfuss0umU2fd+UaM0BS1uL2qcXu74x/1sjvNjXuG3U9c6CY9gyF8kiuOb2tgddCyI6oSUjOdYEDLJNFzQe31a8UOdruLaJJNh28seVGEc8lGE2Tpz1GvJs/iAxf05yplROOyMfbro1CYc82szGvJEvBRVKNWWkqdZ1oxGXMdldAU19EeAAQBc+YVpDoEp9QAAAABJRU5ErkJggg=="},"6b49":function(t,e,s){},a087:function(t,e,s){"use strict";s("c8b1")},c8b1:function(t,e,s){},e382a:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"homebodyr scroll"},[i("div",{staticClass:"homebody_center"},[i("newnav",{staticClass:"mt40",attrs:{id:"3"}}),i("search",{staticClass:"mt40"})],1),t.list.length>0?i("div",{staticClass:"caozuo"},[i("span",{staticClass:"delete cur",on:{click:t.gouserAdd}},[t._v("新增用户")])]):t._e(),i("div",{staticClass:"homebodyr2",class:{active:t.list.length>0}},[t._m(0),0==t.list.length?i("div",{staticClass:"homebodyr2_desc"},[t._v("当前除"+t._s(t.data.name)+"(管理员)外，还没创建任何新用户。")]):t._e(),t.list.length>0?i("div",{staticClass:"userlist"},[i("div",{staticClass:"userlisthead"},[i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"1"}},[i("div",{staticClass:"selectAll cur",on:{click:t.getselected}},[i("div",{staticClass:"select",class:{selected:t.selectedAll}}),i("em",[t._v("全选")])])]),i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"2"}},[t._v("用户名称")]),i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"2"}},[t._v("所属部门")]),i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"2"}},[t._v("当前权限")]),i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"2"}},[t._v("重置密码")]),i("div",{staticClass:"userlistheaditem",staticStyle:{flex:"2"}},[t._v("删除用户")])]),i("div",{staticClass:"userlistbody scroll"},t._l(t.list,(function(e,l){return i("div",{key:l,staticClass:"userlistbody_list"},[i("div",{staticClass:"userlistbodyitem",staticStyle:{flex:"1"}},[i("div",{staticClass:"select cur",class:{selected:e.selected},on:{click:function(e){return t.selected(l)}}})]),i("div",{staticClass:"userlistbodyitem",staticStyle:{flex:"2"}},[t._v(t._s(e.name))]),i("div",{staticClass:"userlistbodyitem",staticStyle:{flex:"2"}},[t._v(t._s(e.department))]),i("div",{staticClass:"userlistbodyitem",staticStyle:{flex:"2"}},[i("div",{staticClass:"quanxian cur",on:{click:function(s){return t.getchange(e)}}},[i("img",{attrs:{src:s("ee04"),alt:""}}),i("span",[t._v("修改权限")])])]),i("div",{staticClass:"userlistbodyitem cur",staticStyle:{flex:"2"}},[i("div",{staticClass:"quanxian",on:{click:function(s){return t.resetpwd(e.uid)}}},[i("img",{attrs:{src:s("40a9"),alt:""}}),i("span",[t._v("重置密码")])])]),i("div",{staticClass:"userlistbodyitem cur",staticStyle:{flex:"2"}},[i("div",{staticClass:"deleteUser",on:{click:function(s){return t.deleteUserConfirm(e.name)}}},[i("span",[t._v("删除用户")])])])])})),0)]):t._e()]),0==t.list.length?i("userAdd"):t._e(),i("el-dialog",{staticClass:"passwordInput",attrs:{title:"提示",visible:t.showPwd,width:"30%",center:""},on:{"update:visible":function(e){t.showPwd=e}}},[i("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.pass_wd,callback:function(e){t.pass_wd=e},expression:"pass_wd"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.showPwd=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.resetPasswd}},[t._v("确 定")])],1)],1),i("quanxian",{ref:"quanxian",attrs:{userdata:t.userdata}})],1)},l=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"homebodyr2_title"},[s("div",{staticClass:"homebodyr2_titlel"},[t._v("用户管理")])])}],c=s("14d2"),a=s("067f"),n=s("eae7"),d=s("e8d4"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-dialog",{staticClass:"passwordInput",attrs:{title:"修改权限",visible:t.show,width:"50%",center:""},on:{"update:visible":function(e){t.show=e}}},[s("el-checkbox-group",{model:{value:t.checkedlist,callback:function(e){t.checkedlist=e},expression:"checkedlist"}},t._l(t.list,(function(e,i){return s("el-checkbox",{key:i,attrs:{label:e.id}},[t._v(t._s(e.title))])})),1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.show=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.set_authority}},[t._v("确 定")])],1)],1)},r=[],u=(s("ba9a"),s("9b7e"),{name:"quanxian",components:{},props:{userdata:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,checkedlist:[],list:[{title:"添加主机",id:2},{title:"添加用户",id:5},{title:"检测程序",id:11},{title:"查看日志",id:6},{title:"检查软件",id:3},{title:"安全检查",id:2},{title:"智能检查",id:8},{title:"创建用户组",id:10},{title:"删除用户",id:7},{title:"更新软件",id:9}]}},watch:{checkedlist:function(){console.log(this.userdata),console.log(this.checkedlist)},show:function(){this.checkedlist=this.userdata.authority}},mounted:function(){this.checkedlist=this.userdata.authority},methods:{getshow:function(){this.show=!0},set_authority:function(){this.checkedlist.join(",");Object(d["z"])({target_name:this.userdata.name,authority:this.checkedlist}).then((function(t){t.code}))}}}),h=u,A=(s("3baa"),s("cba8")),v=Object(A["a"])(h,o,r,!1,null,"e0465002",null),b=v.exports,g={data:function(){return{total:0,selectedAll:!1,list:[],uid:"",userdata:{},pass_wd:"",showPwd:!1,data:{authority:"",department:"",name:""}}},components:{newnav:c["a"],search:a["a"],userAdd:n["a"],quanxian:b},created:function(){},mounted:function(){this.getUserInfo(),this.listUsers()},methods:{getchange:function(t){this.userdata=t,this.$refs.quanxian.getshow()},deleteUserConfirm:function(t){var e=this;this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteUser(t)})).catch((function(){}))},deleteUser:function(t){var e=this;Object(d["g"])({target_name:t}).then((function(t){var s=t.code;0===s&&(e.$message({message:"删除成功",type:"success"}),e.listUsers())}))},gouserAdd:function(){this.$router.push({path:"/user/add"})},resetpwd:function(t){this.uid=t,this.showPwd=!0},resetPasswd:function(){var t=this;if(!t.pass_wd)return this.$message.error("请输入密码"),!1;Object(d["w"])({uid:t.uid,pass_wd:t.pass_wd}).then((function(e){var s=e.code;0===s&&(t.pass_wd="",t.showPwd=!1,t.$message({message:"修改成功",type:"success"}))}))},getselected:function(){this.selectedAll=!this.selectedAll,this.getselectedCheck()},getselectedCheck:function(){for(var t=this,e=t.list,s=0;s<e.length;s++)e[s].selected=this.selectedAll;t.list=e},getIsSeletedAll:function(){for(var t=this.list,e=0,s=0;s<t.length;s++)t[s].selected&&(e+=1);e===this.list.length&&this.list.length>0&&(this.selectedAll=!0)},selected:function(t){this.list[t].selected=!this.list[t].selected,this.$forceUpdate(),this.getIsSeletedAll()},listUsers:function(){var t=this;Object(d["s"])({}).then((function(e){var s=e.code;if(0===s){t.list=e.data.list;for(var i=t.list,l=0;l<i.length;l++)i[l].selected=!1;t.list=i,console.log(t.list)}}))},getUserInfo:function(){var t=this;Object(d["m"])(this.form).then((function(e){var s=e.code;0===s&&(t.data=e.data)}))}},filters:{},watch:{}},f=g,m=(s("a087"),Object(A["a"])(f,i,l,!1,null,"3df26a64",null));e["default"]=m.exports},ee04:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAARCAYAAADtyJ2fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA1IDc5LjE2NDU5MCwgMjAyMC8xMi8wOS0xMTo1Nzo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjEgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RkYzNUNCRjNDRjZFMTFFQkEzNUY4RTY3ODM3MjMzRjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RkYzNUNCRjRDRjZFMTFFQkEzNUY4RTY3ODM3MjMzRjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGRjM1Q0JGMUNGNkUxMUVCQTM1RjhFNjc4MzcyMzNGNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGRjM1Q0JGMkNGNkUxMUVCQTM1RjhFNjc4MzcyMzNGNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PjKi/98AAAEPSURBVHjalNIxS4JBHMfx57GGGsSid1APgntOLkrgLPg+hAicXXV73HwBDS0RDo625BQNDdqgDU9riyAqiXR9T/7h03n3YH/4PM/D3f/Hcfecr5TyYuXjElVU8I0H3OMF22aCByihjQ/lrgghijrj83gnf+79ryY6qBIa1ji0TaQcgRCnyOD6z95iezTrGUfoY4wc7swm24ojZFFCIO/XfVbUJ5tGAx2c4NFs8hxH/4QsznBra0jJTzargCs5oC/MjfmlDs4SfkeEuuw7XisdHCYEy/hE3hh/08GWI3QsbNX05IBalv0vMLWMh5vLJkGtJs2uWuIGvhnULtC1hHoI4r1m8FdRrt5Avnd6fgQYADc+uHg+1xOCAAAAAElFTkSuQmCC"}}]);